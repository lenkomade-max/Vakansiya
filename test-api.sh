#!/bin/bash

echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –º–æ–¥–µ—Ä–∞—Ü–∏–∏"
echo "================================"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
if ! curl -s http://localhost:3000 > /dev/null; then
  echo "‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:3000"
  exit 1
fi

echo "‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo ""

# –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞
echo "üìù –¢–ï–°–¢ 1: –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"
HTTP_CODE=$(curl -s -o /dev/null -w "%{http_code}" http://localhost:3000/admin/moderation)
echo "   HTTP Status: $HTTP_CODE"
if [ "$HTTP_CODE" = "200" ]; then
  echo "   ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞"
else
  echo "   ‚ö†Ô∏è  –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –≤–µ—Ä–Ω—É–ª–∞: $HTTP_CODE"
fi

echo ""
echo "================================"
echo "‚úÖ API —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã"

